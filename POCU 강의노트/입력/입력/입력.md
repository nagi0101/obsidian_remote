---
Created: 2024-02-06T14:36:00
Updated: 2024-02-06T14:36:00
Course: COMP2200
tags: 
Reviewed: false
---
## 입력
---
- 출력의 반대
	- 외부의 데이터를 읽어와서 프로그램에서 사용
- 어떤 데이터가 들어올지 몰라 출력보다 어려움
- 데이터 읽기에 실패했는데 제대로 처리 안 하면 터짐
	- 그래서 모든 입력 함수에는 반환값이 있음
	- 따라서 어떤 함수가 어떤 값을 반환하는지 문서에서 확실히 읽고 코드에서 검사해야함
	- 대부분의 입력 처리 코드의 문제는 반환값이 뭔지 문서를 제대로 안 읽어봐서 발생함.
- 입력은 문서를 보면서 코딩하자.
### 입력의 출처
- 스트림
	- 콘솔, 파일 등등
- 문자열
	- 문자열에 출력(저장)했으니 읽어오는 방법도 있음.
- 출력과 마찬가지로 어디로 출력하든 거의 비슷한 함수가 있음
### 입력처리 전략
- 크게 네 가지 전략이 있음
	1. 한 글자씩 읽기
	2. 한 줄씩 읽기
	3. 한 데이터씩 읽기
		- 데이터 형에 맞추어 읽기
	4. 한 블록씩 읽기(이진 데이터)

## 한 글자씩 읽기
---
- 대략의 알고리듬
	1. 한 글자를 읽어온다.
	2. 그 글자를 필요한 곳에 사용한다.
	3. 1로 돌아간다.
```c
#include <stdio.h>

int main(void)
{
    int c;
    while(1)
    {
        c = getchar();
        putchar(c);
    }
}
```
- 동작
	1. getchar()가 아직 반환 안 함. 대기중.
	2. 키보드로 'a'입력 후 엔터키 누름
	3. 버퍼로부터 한 글자 읽어옴
	4. 읽은 문자 출력
	5. 더 이상 버퍼에 문자가 없으므로 1로 돌아감.
### getchar()
```c
int getchar(void);
int fgetc(FILE* stream);
```
- 키보드(stdin)으로부터 문자를 하나 읽어서 int형으로 반환
	- 굉장히 많은 입출력 함수들이 문자를 읽고 쓸 때 char 대신 int 씀
- `fgetc(stdin)`과 동일
#### 읽는 것 멈추기
1. 특별한 키를 입력받았을 경우?
	- 메뉴 입력 받은 거 받을 때는 가능
	- 하지만 타자 프로그램 등에서 모든 키보드 문자를 허용할 때는 불가능
2. 어디에서도 사용 가능한 "입력 끝"을 나타내는 무언가
	- 반환형이 int인 것과 관련됨
	- `getchar()`의 반환값은 성공하면 문자를, 실패하면 EOF를 반환함!
### EOF
- C 표준에 의하면 EOF는 음수.
- 표준에 따르면 [[../../C 기본 문법&빌드 단계/C 자료형/C 자료형#char|char]]는 부호가 있을 수도 있고 없을 수도 있음
	- 따라서 char에 이 음수 값을 담는 것이 불가
- 이것이 `getchar()`가 int를 반환하는 이유
- EOF는 ctrl 키와 다른 키를 조합하여 입력 가능
	- 윈도우: `ctrl + z`
	- UNIX-like 시스템: `ctrl + d`
### 완성된 코드
- 제대로 된 알고리듬
	1. 한 글자를 읽어온다.
	2. 글자를 읽어오는데 실패했다면 프로그램을 종료
	3. 아니라면 그 글자를 필요한 곳에 사용한다.
	4. 1로 돌아간다.
```c
#include <stdio.h>

int main(void)
{
    int c;

    c = getchar();

    while(c != EOF)
    {
        putchar(c);
        c = getchar();
    }
}
```
- `getchar()`가 두 번 있음
	- do while로는 해결 불가. while 검사 전에 c를 사용하기 때문.
	- 아래의 코드로 한 번으로 줄일 수 있다!
```c
#include <stdio.h>

int main(void)
{
    int c;

    while((c = getchar()) != EOF) {
        putchar(c);
    }
}
```
- 괄호 묶기 등 한 줄로 줄이는 것인 실수하기 쉬워서 요즘 다른 언어에선 잘 안 하기는 함
### 한 글자씩 읽는 방법이 유용한 경우
- 가장 간단한 방법
- 입력이 문자/문자열일 때 매우 좋음
- 쓸데없이 메모리에 입력값을 저장해두지 않아도 됨
	- 용량 절약
	- 실수 줄임
- O(N)
	- for 딱 한 번만 도는 알고리즘에 적합
	- 키보드로부터 한 글자씩 읽어서 곧바로 처리
- 그러나 다른 데이터형으로 쓰기는 좀 어려움
	- 예: 정수형 숫자 1004를 읽기
		- 4번 읽어서 정수로 변환하긴 좀...

## 한 줄씩 읽기
---
- 매우 중요함
- 이 것과 한 데이터씩 읽어오는 것을 합치면 매우 막강해짐
- 알고리듬
	1. 한 줄을 읽어온다
	2. 실패하면 프로그램 종료
	3. 아니면 한 줄 읽어온 데이터를 필요에 따라 사용
	4. 1번으로 되돌아감
 - 한 줄 읽어오면 어디에 저장해야 하지?
	 - 한 줄 읽어오는 함수가 새로운 문자열을 메모리 잡아 반환해주지 않음
	- 